@page "/addaccount"
@inject ILogger<AddAccount> logger

<PageTitle>Add Account</PageTitle>

<h1>Add Account</h1>

<EditForm Model="Model" OnValidSubmit="Submit" FormName="AddAccount">
    <label>
        Account Name:
        <InputText @bind-Value="Model!.Name" />
    </label>
    <label>
        Account Balance:
        <InputNumber @bind-Value="Model!.Balance" />
    </label>
    <label>
        Account Epoch:
        <InputDate @bind-Value="Model!.Epoch" />
    </label>
    <button type="submit">Save</button>
</EditForm>

@code {
    [SupplyParameterFromForm]
    private AccountDto? Model { get; set; }

    protected override void OnInitialized()
        => Model ??= new();

    private void Submit()
    {
        logger.LogInformation("Name: '{name}', Balance: '{balance}', Epoch: '{epoch}", Model!.Name, Model!.Balance, Model!.Epoch);
    }
}